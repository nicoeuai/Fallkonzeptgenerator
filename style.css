/*
  Grundlegendes Styling für den Bericht‑Generator.
  Die Farbgestaltung orientiert sich an modernen Informationsseiten
  mit blauen Akzenten und dezenten Hintergründen.

  Im Zuge der Design‑Überarbeitung wurden CSS‑Variablen eingeführt,
  die an das Farbschema des EUAIDITOR angelehnt sind (dunkle und
  helle Blautöne, viel Weißraum). Zudem werden moderne Schriften
  und größere Abstände verwendet.
*/

/* Farb‑ und Designeigenschaften */
/* Farbschema angepasst an den EUAIDITOR‑Dark/Light‑Modus */
:root {
  /* Basisfarben im Light‑Modus */
  /* Light‑Mode Farbschema */
  --primary-color: #040d1b;     /* dunkles Blau für Header/Hintergrund im Light‑Modus */
  --accent-color: #0a488a;      /* klares Blau als Akzentfarbe im Light‑Modus */
  --accent-hover-color: #071e40;/* dunklere Variante für Hover-Effekte */
  --secondary-color: #f4f6f8;   /* sehr helles Grau als Seitenhintergrund */
  --surface-color: #ffffff;     /* Karten und Formularflächen */
  --text-color: #04101a;        /* sehr dunkles Blau als Primärtextfarbe */
  --subtext-color: #475569;     /* gedämpftes Grau‑Blau für Untertexte */
  --on-accent-color: #ffffff;   /* Text auf Akzentflächen */
  --on-primary-color: #ffffff;  /* Text auf Primärflächen */
  --shadow-color: rgba(0, 0, 0, 0.1);
}

/* Dunkler Modus: überschreibt die Variablen für eine dunkle Oberfläche */
body.dark-mode {
  --primary-color: #062032;     /* sehr dunkles Blau für Header/Hintergrund */
  --accent-color: #c8af5d;      /* dezentes Gold als Akzentfarbe */
  --accent-hover-color: #695c31;/* etwas dunkleres Gold für Hover-Effekte */
  --secondary-color: #04101a;   /* tiefes Dunkelblau als Seitenhintergrund */
  --surface-color: #0b1c29;     /* dunkle Karte */
  --text-color: #ffffff;        /* weiße Primärtextfarbe */
  --subtext-color: #cbd5e1;     /* helles Blau‑Grau für Untertexte */
  --on-accent-color: #04101a;   /* dunkler Text auf Gold */
  --on-primary-color: #ffffff;  /* Text auf Primärflächen */
  --shadow-color: rgba(0, 0, 0, 0.4);
}

/* Akzentfarbene Überschriften im Dunkelmodus */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4 {
  color: var(--text-color);
}

/* Zusätzlicher Abstand für bedingte Felder */
.conditional-field {
  margin-top: 0.4rem;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', 'Inter', sans-serif;
  background-color: var(--secondary-color);
  color: var(--text-color);
  line-height: 1.6;
}

/* Navigationsleiste im EUAIditor-Stil */
.site-header {
  display: flex;
  align-items: center;
  padding: 0.5rem 1rem;
  gap: 1rem;
  background-color: transparent;
  color: var(--on-primary-color);
  box-shadow: none;
}

.menu-toggle {
  background: none;
  border: none;
  color: var(--on-primary-color);
  font-size: 1.5rem;
  cursor: pointer;
  display: none;
}

.menu-toggle:hover {
  background-color: var(--accent-hover-color);
  color: var(--on-accent-color);
}

.main-nav {
  position: sticky;
  top: 0;
  z-index: 99;
  display: flex;
  justify-content: center;
  gap: 1rem;
  padding: 0.5rem 1rem;
  background-color: transparent;
  color: var(--on-primary-color);
  box-shadow: none;
}

.main-nav a {
  color: inherit;
  text-decoration: none;
  font-weight: 500;
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-left: auto;
}

.header-controls .theme-toggle {
  background: none;
  border: none;
  color: var(--on-primary-color);
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.header-controls .theme-toggle:hover {
  background-color: var(--accent-hover-color);
  color: var(--on-accent-color);
}

@media (max-width: 768px) {
  .menu-toggle {
    display: block;
  }
  .main-nav {
    display: none;
    flex-direction: column;
    background-color: transparent;
    padding: 1rem;
  }
  .main-nav.open {
    display: flex;
  }
}

/* Hero‑Section */
.hero {
  position: relative;
  background-image: url('9e5b946a-d686-4efc-8064-14124cc4bc54.png');
  background-size: cover;
  background-position: center;
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 4rem 1rem;
  color: var(--text-color);
}
.hero::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7));
  pointer-events: none;
}
.hero .hero-content {
  position: relative;
  z-index: 1;
  max-width: 800px;
  color: var(--text-color);
}
.hero h1 {
  margin: 0;
  font-size: 2.4rem;
  font-weight: 700;
  color: #ffffff;
}
.hero p {
  margin-top: 1rem;
  font-size: 1.15rem;
  color: rgba(255, 255, 255, 0.8);
}
.cta-btn {
  margin-top: 2rem;
  padding: 0.75rem 1.6rem;
  font-size: 1rem;
  border: none;
  border-radius: 6px;
  background-color: var(--accent-color);
  color: var(--on-accent-color);
  cursor: pointer;
  font-weight: 600;
  transition: background-color 0.2s ease, color 0.2s ease;
}
.cta-btn:hover {
  background-color: var(--accent-hover-color);
  color: var(--on-accent-color);
}

.site-title {
  margin: 0;
  font-size: 2rem;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.site-subtitle {
  margin: 0.5rem 0 0;
  font-size: 1.1rem;
  font-weight: 300;
  opacity: 0.9;
}

/* Intro section */
.intro-section {
  max-width: 880px;
  margin: 2.5rem auto;
  padding: 2rem 2.5rem;
  text-align: center;
  background-color: var(--surface-color);
  border-radius: 12px;
  box-shadow: 0 4px 10px var(--shadow-color);
}

/* Moderne Buttons mit klaren Akzenten */
.primary-btn,
.secondary-btn {
  padding: 0.7rem 1.6rem;
  font-size: 1rem;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin: 0.5rem;
  transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.primary-btn {
  background-color: var(--accent-color);
  color: var(--on-accent-color);
  font-weight: 600;
}

.primary-btn:hover {
  background-color: var(--accent-hover-color);
  box-shadow: 0 2px 6px var(--shadow-color);
}

.secondary-btn {
  background-color: transparent;
  border: 2px solid var(--accent-color);
  color: var(--accent-color);
  font-weight: 600;
}

.secondary-btn:hover {
  background-color: var(--accent-color);
  color: var(--on-accent-color);
  box-shadow: 0 2px 6px var(--shadow-color);
}

/* Form container */
.form-container {
  max-width: 920px;
  margin: 2.5rem auto;
  background-color: var(--surface-color);
  padding: 2.5rem 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px var(--shadow-color);
}

.hidden {
  display: none;
}

.form-step {
  display: none;
}

.form-step.active {
  display: block;
}

/* Eingabegruppen mit modernem Look */
.input-group {
  margin-bottom: 1.2rem;
}

.input-group label {
  display: block;
  font-weight: 500;
  margin-bottom: 0.4rem;
}

.input-group input[type="text"],
.input-group input[type="number"],
.input-group select,
.input-group textarea {
  width: 100%;
  padding: 0.6rem 0.75rem;
  border: 1px solid #ccd4de;
  border-radius: 6px;
  font-size: 1rem;
  box-sizing: border-box;
  background-color: var(--surface-color);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.input-group input[type="text"]:focus,
.input-group input[type="number"]:focus,
.input-group select:focus,
.input-group textarea:focus {
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25);
  outline: none;
}

.input-group select {
  color: var(--text-color);
}

.input-group select option {
  color: var(--text-color);
}

.input-group select option[disabled] {
  color: var(--subtext-color);
}

.input-group textarea {
  resize: vertical;
  min-height: 80px;
}

.navigation-buttons {
  text-align: right;
  margin-top: 2rem;
}

/*
  Gruppe von Checkboxen für übersichtliche Mehrfachauswahl.
  Die Checkboxen werden als pill‑förmige Schaltflächen dargestellt, um die Auswahl
  intuitiver und moderner zu gestalten. Die eigentlichen Eingabefelder sind unsichtbar,
  stattdessen wird der Zustand über die Klasse `.checked` am Label gesteuert
  (per JavaScript).
*/
/* Checkbox‑Gruppe: Mehrfachauswahl in flexiblen Zeilen */
.checkbox-group {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
/* Stil für einzelne Checkbox‑Labels. Die Checkbox bleibt sichtbar, die Beschriftung erhält Pillenoptik. */
.checkbox-group label {
  display: inline-flex;
  align-items: center;
  padding: 0.35rem 0.8rem;
  margin: 0.2rem;
  border: 1px solid var(--accent-color);
  border-radius: 20px;
  font-size: 0.9rem;
  cursor: pointer;
  user-select: none;
  background-color: var(--surface-color);
  color: var(--accent-color);
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
/* Checkbox selbst erhält etwas Abstand nach rechts */
.checkbox-group label input[type="checkbox"] {
  margin-right: 0.5rem;
  accent-color: var(--accent-color);
}
/* Wenn Checkbox im Label angehakt ist, färbe den gesamten Chip einfärbig mit invertierter Textfarbe */
.checkbox-group label.checked {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: var(--on-accent-color);
}

/* Radio-Button-Gruppen im gleichen Stil wie Checkboxen */
.radio-group {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.radio-group label {
  display: inline-flex;
  align-items: center;
  padding: 0.35rem 0.8rem;
  margin: 0.2rem;
  border: 1px solid var(--accent-color);
  border-radius: 20px;
  font-size: 0.9rem;
  cursor: pointer;
  user-select: none;
  background-color: var(--surface-color);
  color: var(--accent-color);
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
.radio-group label input[type="radio"] {
  margin-right: 0.5rem;
  accent-color: var(--accent-color);
}
.radio-group label.checked {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: var(--on-accent-color);
}

/* Tabelle für Testverfahren */
#testTable {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 0.5rem;
}
#testTable th,
#testTable td {
  border: 1px solid #ccd4de;
  padding: 0.4rem;
}

.additional-inputs {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.consequence-item {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

/* Kollapsible Detail-Gruppen für umfangreiche Auswahlfelder */
.details-group {
  border: 1px solid #ccd4de;
  border-radius: 6px;
  padding: 0.6rem 0.8rem;
  margin-bottom: 1rem;
  background-color: var(--secondary-color);
}
.details-group summary {
  font-weight: 500;
  cursor: pointer;
  list-style: none;
  position: relative;
  padding: 0.4rem 0.8rem 0.4rem 1.6rem;
  margin-bottom: 0.5rem;
}
.details-group summary::before {
  content: "+";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.1rem;
  line-height: 1;
  transition: color 0.2s ease;
}
.details-group[open] summary::before {
  content: "−";
}

/* Conditional note styling */
.conditional-note {
  font-size: 0.9rem;
  color: var(--subtext-color);
  margin-bottom: 1rem;
  font-style: italic;
}

/* Report output */
#reportOutput {
  width: 100%;
  padding: 1rem;
  border: 1px solid #ccd4de;
  border-radius: 4px;
  font-family: monospace;
  box-sizing: border-box;
  margin-top: 1rem;
}

@media (max-width: 600px) {
  .form-container, .intro-section {
    margin: 1rem;
    padding: 1rem;
  }
  .site-title {
    font-size: 1.4rem;
  }
  .site-subtitle {
    font-size: 0.9rem;
  }
}
#progressBar {
  height: 4px;
  width: 100%;
  background-color: var(--secondary-color);
  margin-bottom: 1rem;
  position: sticky;
  top: 0;
  z-index: 80;
}
#progress {
  height: 100%;
  width: 0%;
  background-color: var(--accent-color);
  transition: width 0.3s ease;
}
.diagnosis-item {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

label.required::after {
  content: " *";
  color: #d00;
}

.info-icon {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  margin-left: 0.25rem;
  border-radius: 50%;
  background-color: var(--accent-color);
  color: var(--on-accent-color);
  text-align: center;
  font-size: 0.7rem;
  line-height: 1rem;
  cursor: help;
}

.site-footer {
  margin-top: 2rem;
  padding: 1rem;
  font-size: 0.85rem;
  text-align: center;
  color: var(--subtext-color);
}
.privacy-note {
  max-width: 800px;
  margin: 0 auto;
  line-height: 1.4;
}
.diagnosis-item .remove-diagnosis {
  background-color: var(--accent-color);
  color: var(--on-accent-color);
  border: none;
  border-radius: 4px;
  padding: 0 0.5rem;
  cursor: pointer;
}
